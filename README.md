# VulnerabilityTool

---
**Work In Progress**

**Version:** 1.0

---
## Overview

---
This started off as a Google App Script extension to our original Google Sheet.

The idea is to be able to transform that data into presentable Service Now tickets.  There are some intermediary steps, but that's the gist of it.

The app script transformed into this because of limitations such as but not limited to:

- If data was too large, the functionality could timeout before completion
- Too slow
- Not very portable (half of the functionaly was scripts I developed locally) so almost impossible for someone else to execute
- Uncertain of its behavior when executed by someone else, as well as where files would be saved
- I wanted to make use of a DB w/ Appscript, however that is another beast altogether
 - networking/connection, costs for hosting data/manipulation, etc.
 
 This serves as a means to fix the above issues and then some:
 
- Data is now put into a DB to make querying faster
- Said database is spun up locally on a docker container and can instantly be destroyed thereafter since its longevity is not needed
- Much more portable as all the information has been placed in a git repo and all one has to do is clone locally and run the script(s)
- Compatibility - if one doesn't have/want to download the tools to run the scripts locally, it can be performed in the docker container
---
## Requirements

---
At minimum, the following are necessary to utilize the tool:
- **Docker / Docker Desktop**

<u>**Recommended:**</u>
- **docker-compose**
- **jq**
- **mysql cli**

<u>**My Versions:**</u>
```
% docker -v 
Docker version 24.0.2, build cb74dfc

% docker-compose -v
Docker Compose version v2.19.1

% jq --version
jq-1.6

% mysql --version
mysql Ver 8.1.0 for macos12.6 on arm64 (Homebrew)
```
---
## REMOVED SECTIONS

---
## Steps

---
**Setup**
- clone repo to local machine
- edit snowcat/config.json file and add proper username and password values
- export csv from "REMOVED" Google Sheet
- rename downloaded csv to "**fndimport.csv** and move to sql/ directory

**Execution**
- [AUTOMATIC] from the home directory, run the make-build script: "**./make-build**"
- [MANUAL] from the home directory, run: "**docker-compose up -d --build**"
 - if you already have these containers running and want to "restart" them, you can destroy them and rebuild easily with:
 "**docker-compose down && sleep 3 && docker-compose up -d --build**"
- once the containers have spun up and are running, you can operate the scripts either locall (MACOS) or from within the container

**Container Execution**
- Copy the idea of the container using command: "**docker ps | grep fndscript | awk '{print $1}'**"
- Log into the container using command: "**docker exec -it $ID /bin/bash** substituting $ID with the value you copied from the previous step
- Navigate to **/scripts/** directory and run exportFND script: "**./exportFND**"
 - It should walk you through the script just fine
 - From here, you can automatically create tickets when prompted by the script by entering "Y"
 - If however you chose not to, you'll have to manually run the createFND script:
  - Navigate to **/snowcat/** directory and run createFND script: "**./createFND $FILE**" substituting $FILE with the name of the file that was created from the previous step (the script should have output the file name.  Also, it should be the only file with a .json extension excluding the config file)
- If you didn't get to record the ticket #s created, it has been documented to a file within the /snowcat/ directory with a ".log" extension

**Local Execution**

_note: this was built using that of Mac, zsh and GNU truncate.  I've seen compatibility issues with these two not in use_

- Navigate to **/scripts/** directory and run exportFND script: "**./exportFND**"
 - It should walk you through the script just fine
 - From here, you can automatically create tickets when prompted by the script by entering "Y"
 - If however you chose not to, you'll have to manually run the createFND script:
  - Navigate to **/snowcat/** directory and run createFND script: "**./createFND $FILE**" substituting $FILE with the name of the file that was created from the previous step (the script should have output the file name.  Also, it should be the only file with a .json extension excluding the config file)
- If you didn't get to record the ticket #s created, it has been documented to a file within the /snowcat/ directory with a ".log" extension